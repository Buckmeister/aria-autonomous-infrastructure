# Rocket Ollama - PersistentVolumeClaim
# Storage for downloaded Ollama models (persistent across pod restarts)

apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: ollama-models
  namespace: rocket
  labels:
    app: rocket-ollama
    component: storage
spec:
  accessModes:
    - ReadWriteOnce  # Single node access
  resources:
    requests:
      storage: 5Gi  # Start with 5GB (qwen2.5:0.5b is ~500MB, allows room for multiple models)
  # storageClassName: microk8s-hostpath  # Uncomment if you need to specify storage class
  # Note: MicroK8s default storage class should work automatically

---
# Alternative: Use hostPath for development (not recommended for production)
# This would mount a directory from the node's filesystem
# Useful for dev environments where you want to inspect downloaded models
#
# apiVersion: v1
# kind: PersistentVolume
# metadata:
#   name: ollama-models-pv
#   namespace: rocket
# spec:
#   capacity:
#     storage: 5Gi
#   accessModes:
#     - ReadWriteOnce
#   hostPath:
#     path: /data/rocket-ollama-models
#     type: DirectoryOrCreate
